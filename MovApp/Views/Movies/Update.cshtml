@using Infrastructure.DTOs.Movie
@model MovieDetailDTO
@{
    ViewData["Title"] = "Update";
    var movie = Model;
}

<img src="https://dg3fwljcbubde.cloudfront.net/Landing/landing-bg-ww.jpg" class="rounded-pill" alt="create-movie-landing-image" style="max-height: 300px; width: 100%; object-fit: fill" />
<div class="w-75 d-flex flex-column align-items-center mt-2">
    @using (Html.BeginForm("Update", "Movies", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
       @Html.HiddenFor(dto => dto.Image, movie.Image);
       @Html.HiddenFor(dto => dto.Comments, movie.Comments);
        <div style="width: 500px;" class="form-group">
            @Html.LabelFor(m => m.Name)
            @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.Description)
            @Html.TextAreaFor(m => m.Description, new { @class = "form-control", rows = "4" })
        </div>

        <div class="form-group">
            @Html.Label("Image")
            <input type="file" name="imageFile" id="imageFile" class="form-control" />
        </div>

        @if (TempData["msg"] != null && ((List<string>)TempData["msg"]!).Any())
        {
            foreach (string error in (List<string>)TempData["msg"]!)
            {
                <div class="form-group">
                    <span class="text-info">@error</span>
                </div>
            }
        }

        <button type="submit" class="btn btn-primary mt-3">Update Movie</button>

    }
</div>

